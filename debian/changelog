pt-firmware-updater (3.2.2) buster; urgency=medium

  [ m-roberts ]
  * Remove shit

  [ Mike Roberts ]
  * Initial commit
  * Add Jenkinsfile and README

  [ ItsChoudhry ]
  * Add gitignore file
  * Update firmware files and firmware version i2c address
  * Fix import
  * Correct i2c address
  * Comment out the broken firmware version checker
  * Add script to run firmware upgrader
  * Add new line end of file
  * Run pre-commit checks
  * Run autopep8 manually
  * Correct path to firmware updater and if logic

  [ Mike Roberts ]
  * Refactor code
  * Remove script from install file
  * Refactor code
  * PEP8
  * Re-add pt-firmware-updater entry point
  * Only reboot on success; add more prints
  * Press ENTER
  * Faster write, dynamic i2c address
  * Fix bugs
  * Add send interval parameter
  * Run faster, fix exit, improve progress printout, use I2CDevice's internal delay mechanism
  * Fix typos
  * Improve readout
  * Slow down write speed for safety
  * Add basic error handling
  * Bump changelog - v1.1.0

  [ ItsChoudhry ]
  * Fix python style print in bash script
  * Correct changelog date and time

  [ Choudhry Amjad ]
  * Apply shfmt formatting

  [ Mike Roberts ]
  * pt-update -> pt-firmware-updater
  * Add latest hub firmware bin; Application refactor, improved usability and scalability

  [ Jorge Cápona ]
  * Add foundation plate and expansion plate firmware binaries
  * Support automatic update feature (#7)

  [ Jorge Capona ]
  * Add loop-time argument to set time between checks
  * Add systemd service file
  * Update changelog
  * Update loop-time default value

  [ Jorge Cápona ]
  * OS-672 Display notifications (#10)

  [ Mike Roberts ]
  * Bump pt4_hub firmware to v3.3

  [ Jorge Cápona ]
  * Implement new flow & notifications

  [ Mike Roberts ]
  * Add and use pt-i2cdetect to detect possible pi-top firmware devices
  * Only force update if service has not already been run before this session (#13)
  * Bugfix import
  * Fix changelog

  [ Jorge Cápona ]
  * Use i2cdetect to determine connection status (#14)
  * Add force flag to update checker (#15)

  [ Mike Roberts ]
  * Use new Jenkinsfile
  * No longer override stripping
  * Simplify Jenkinsfile
  * Test Devops by breaking package
  * Revert "Test Devops by breaking package"
  * Updated Jenkinsfile
  * Add missing libc dependency
  * Compat level 11
  * Move bin files to pt-firmware-images package
  * Update pre-commit
  * Suppress Lintian warnings
  * Bump changelog
  * Quieter logging

  [ Jorge Cápona ]
  * Performance improvements (#16)

  [ Mike Roberts ]
  * Reduce logging noise (#17)
  * fw_downloaded_successfully: Quieter and clearer logging
  * Only print 'No firmware found in folder' when there is actually no firmware found, not just when there is nothing new to try
  * Fix changelog
  * Quiet!
  * Improve output when an update is pending or there are no updates available
  * Fix import
  * Try and improve print-out from device scanning
  * Fix var name
  * Be quiet when probing for the wrong device at the same address
  * Correctly track if device is newly connected or disconnected
  * Make variables instance-specific, not global
  * Create firmware updater object at the same time as device and always use that
  * Bump changelog
  * Use pt-firmware-images (#18)
  * Use graphical target
  * OS-751 Wait for breadcrumb or default 5m timeout (#19)
  * Fix errors
  * Bump changelog
  * Use kwargs for setting up logging
  * 'Upgrade' --> 'Update'
  * Leave hub reboot breadcrumb for shutdown routine
  * Fixes (#20)
  * Bump changelog
  * Disable pt-firmware-checker (temporarily)
  * Fix changelog
  * Add dpkg trigger to restart service on common lib update
  * Bump changelog

  [ Jorge Cápona ]
  * MVP (#22)

  [ Jorge Capona ]
  * Wait indefinitely for user to click notification
  * Add python3-pt-common as package dependency

  [ Mike Roberts ]
  * Compat level 12; ptcommon -> pitop.core

  [ Jorge Cápona ]
  * pitop.core -> pitop.utils, update pt-i2cdetect binary

  [ Mike Roberts ]
  * Remove debian-pyversions-is-obsolete
  * Remove systemd-service-file-missing-documentation-key
  * Update triggers
  * pitop.utils -> pitopcommon
  * Fix requirements.txt
  * Add pt-notifications dependency
  * Fix flake8 errors
  * Fix syntax
  * Add SDK dpkg trigger
  * Skip journal logging; update function to determine connected hub
  * Require pt-notifications
  * Bump changelog
  * Start after pt-device-manager
  * Fix hub upgrades

  [ Jorge Cápona ]
  * Reduce logging levels when probing devices

  [ Mike Roberts ]
  * Allow external sources when testing shell scripts

  [ Jorge Capona ]
  * Exit with code 0 if device is not a pi-top[4] (#25)

 -- pi-top <deb-maintainers@pi-top.com>  Tue, 13 Apr 2021 16:33:12 +0000

pt-firmware-updater (3.2.1) buster; urgency=medium

  * Reduce logging levels when probing devices

 -- Jorge Capona <jorge@pi-top.com>  Wed, 23 Dec 2020 17:36:27 -0300

pt-firmware-updater (3.2.0) buster; urgency=medium

  * Fix hub upgrade logic
  * Reduce logging of I2C address scanning
  * Improve logging around installing updates
  * Print firmware updater command to output
  * Firmware checker and updater log to journal

 -- Mike Roberts <mike@pi-top.com>  Thu, 17 Dec 2020 00:14:59 +0000

pt-firmware-updater (3.1.1) buster; urgency=medium

  * After=pt-device-manager.service
  * Use environment variables in systemd service

 -- Mike Roberts <mike@pi-top.com>  Wed, 16 Dec 2020 18:54:56 +0000

pt-firmware-updater (3.1.0) buster; urgency=medium

  * Apply Flake8 linting
  * Update dependencies
  * Update dpkg triggers
  * Remove double logging to journal

 -- Mike Roberts <mike@pi-top.com>  Fri, 11 Dec 2020 14:05:51 +0000

pt-firmware-updater (3.0.0) buster; urgency=medium

  * ptcommon -> pitop.core
  * Upgrade to compat 12
  * Migrate to using dh-sequence-python3
  * Use dh_installsystemd

 -- Mike Roberts <mike@pi-top.com>  Tue, 03 Nov 2020 16:14:35 +0000

pt-firmware-updater (2.13.1-2) buster; urgency=medium

  * Add python3-pt-common as package dependency

 -- Jorge Capona <jorge@pi-top.com>  Fri, 09 Oct 2020 14:02:02 -0300

pt-firmware-updater (2.13.1-1) buster; urgency=medium

  * Wait indefinitely for user to interact with notification

 -- Jorge Capona <jorge@pi-top.com>  Fri, 09 Oct 2020 13:45:03 -0300

pt-firmware-updater (2.13.0-1) buster; urgency=medium

  * Re-enable pt-firmware-checker
  * Add support for auto-restarting firmware devices

 -- Mike Roberts <mike@pi-top.com>  Wed, 23 Sep 2020 11:01:37 +0100

pt-firmware-updater (2.12.3-1) buster; urgency=medium

  * Add dpkg trigger

 -- Mike Roberts <mike@pi-top.com>  Wed, 05 Aug 2020 17:26:04 +0100

pt-firmware-updater (2.12.2-1) buster; urgency=medium

  * Disable pt-firmware-checker (temporarily)

 -- Mike Roberts <mike@pi-top.com>  Mon, 13 Jul 2020 12:03:10 +0100

pt-firmware-updater (2.12.1-1) buster; urgency=medium

  * Bug fix: comparing versions
  * Improved read-out

 -- Mike Roberts <mike@pi-top.com>  Fri, 10 Jul 2020 16:26:21 +0100

pt-firmware-updater (2.12.0-1) buster; urgency=medium

  * Leave hub reboot breadcrumb for shutdown routine

 -- Mike Roberts <mike@pi-top.com>  Thu, 02 Jul 2020 11:21:50 +0100

pt-firmware-updater (2.11.1-1) buster; urgency=medium

  * "Upgrade" --> "Update"

 -- Mike Roberts <mike@pi-top.com>  Tue, 30 Jun 2020 11:02:35 +0100

pt-firmware-updater (2.11.0-1) buster; urgency=medium

  * Wait for OS updater to report that firmware updates can start

 -- Mike Roberts <mike@pi-top.com>  Tue, 23 Jun 2020 15:03:38 +0100

pt-firmware-updater (2.10.0-1) buster; urgency=medium

  * Use graphical target, not local-fs

 -- Mike Roberts <mike@pi-top.com>  Thu, 11 Jun 2020 10:54:05 +0100

pt-firmware-updater (2.9.0-1) buster; urgency=medium

  * Start and enable service by default
  * Use pt-firmware-images directory structure
  * Fix Lintian errors

 -- Mike Roberts <mike@pi-top.com>  Wed, 10 Jun 2020 17:39:46 +0100

pt-firmware-updater (2.8.0-1) buster; urgency=medium

  * Only try and update each device once per connection

 -- Mike Roberts <mike@pi-top.com>  Thu, 28 May 2020 16:51:20 +0100

pt-firmware-updater (2.7.0-1) buster; urgency=medium

  * Apply hub firmware correctly - let hub handle reboot
  * Reduce logging level for common prints

 -- Mike Roberts <mike@pi-top.com>  Thu, 28 May 2020 12:59:23 +0100

pt-firmware-updater (2.6.1-1) buster; urgency=medium

  * Reduce i2c bus usage
  * Keep track of processed files

 -- Jorge Capona <jorge@pi-top.com>  Thu, 28 May 2020 12:36:23 -0400

pt-firmware-updater (2.6.0-1) buster; urgency=medium

  * Move bin files to pt-firmware-images package
  * Package quality updates

 -- Mike Roberts <mike@pi-top.com>  Thu, 28 May 2020 11:42:48 +0100

pt-firmware-updater (2.5.0-2) buster; urgency=medium

  * Add missing libc dependency

 -- Mike Roberts <mike@pi-top.com>  Wed, 29 Apr 2020 16:14:36 +0100

pt-firmware-updater (2.5.0-1) buster; urgency=medium

  * Add force flag to update checker

 -- Jorge Capona <jorge@pi-top.com>  Tue, 14 Apr 2020 18:14:54 -0400

pt-firmware-updater (2.4.3-1) buster; urgency=medium

  * Use i2cdetect to determine device connection status

 -- Jorge Capona <jorge@pi-top.com>  Tue, 14 Apr 2020 18:14:54 -0400

pt-firmware-updater (2.4.2-1) buster; urgency=medium

  * Bugfix: import statement and argument parsing

 -- Mike Roberts <mike@pi-top.com>  Tue, 14 Apr 2020 22:02:24 +0100

pt-firmware-updater (2.4.1-1) buster; urgency=medium

  * Only force update if service has not already been run before this session

 -- Mike Roberts <mike@pi-top.com>  Tue, 14 Apr 2020 20:53:32 +0100

pt-firmware-updater (2.4.0-1) buster; urgency=medium

  * Add and use pt-i2cdetect to detect possible pi-top firmware devices

 -- Mike Roberts <mike@pi-top.com>  Wed, 08 Apr 2020 15:26:17 +0100

pt-firmware-updater (2.3.0-1) buster; urgency=medium

  * Only run if on a pi-top [4]
  * Separate updater and monitoring logic
  * Monitor firmware directories for new firmware
  * Check for new devices every 3 seconds
  * Use lock file to prevent multiple firmware updates happening at once
  * Automatically install firmware on boot
  * Notify user to install firmware after boot
  * Use a single notification per device

 -- Mike Roberts <mike@pi-top.com>  Wed, 08 Apr 2020 14:30:02 +0100

pt-firmware-updater (2.2.1-1) buster; urgency=medium

  * Bump pt4_hub firmware to v3.3

 -- Mike Roberts <mike@pi-top.com>  Wed, 08 Apr 2020 13:44:53 +0100

pt-firmware-updater (2.2.0-1) buster; urgency=medium

  * Display user notifications

 -- Jorge Capona <jorge@pi-top.com>  Thu, 26 Mar 2020 12:12:03 -0300

pt-firmware-updater (2.1.0-1) buster; urgency=medium

  * Support automatic update feature
  * Update one or all devices based on script arguments
  * Add binary file verification before uploading to device
  * Add systemd service, to run script every 30s

 -- Jorge Capona <jorge@pi-top.com>  Mon, 2 Mar 2020 17:17:22 +0300

pt-firmware-updater (2.0.1-1) buster; urgency=medium

  * Add foundation plate and expansion plate firmware binaries

 -- Jorge Capona <jorge@pi-top.com>  Wed, 26 Feb 2020 15:32:10 -0300

pt-firmware-updater (2.0.0-1) buster; urgency=medium

  * Overhaul structure to be purely Python
  * No hard-coded address or hub firmware file
  * Allow dynamic upgrading of firmware files from directory
  * Implement and enable firmware update verification

 -- Mike Roberts <mike@pi-top.com>  Fri, 08 Nov 2019 14:09:22 +0800

pt-firmware-updater (1.1.2-1) buster; urgency=medium

  * Apply shfmt formatting

 -- Choudhry Amjad <choudhry@pi-top.com>  Fri, 02 Aug 2019 10:07:02 +0100

pt-firmware-updater (1.1.1-1) buster; urgency=medium

  * Fix python style print in bash script

 -- Choudhry Amjad <choudhry@pi-top.com>  Thu, 01 Aug 2019 15:40:21 +0100

pt-firmware-updater (1.1.0-1) buster; urgency=medium

  * Improved, generalised interface for upgrading firmware
  * Currently only supports out-of-date pi-top [4]s with old I2C address

 -- Mike Roberts <mike@pi-top.com>  Wed, 31 Jul 2019 13:14:36 +0100

pt-firmware-updater (1.0.0-1) buster; urgency=medium

  * Initial release.

 -- Mike Roberts <mike@pi-top.com>  Tue, 23 Jul 2019 15:05:31 +0100
